<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>C++ 11 - Signals &amp; Slots by zyvitski</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>C++ 11 - Signals &amp; Slots</h1>
          <h2></h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/zyvitski/signals/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/zyvitski/signals/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/zyvitski/signals" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="signals-" class="anchor" href="#signals-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>signals <a href="https://travis-ci.org/zyvitski/signals"><img src="https://travis-ci.org/zyvitski/signals.svg?branch=master" alt="Build Status"></a>
</h1>

<p>A Signals and Slots implementation using C++11</p>

<p>Basic Usage:</p>

<div class="highlight highlight-source-c++"><pre>#<span class="pl-k">include</span><span class="pl-s"><span class="pl-pds">&lt;</span>signals.hpp<span class="pl-pds">&gt;</span></span>

<span class="pl-c">//create a signal of type double(std::vector&lt;double&gt; const&amp;)</span>
signals::<span class="pl-c1">signal_t</span>&lt;<span class="pl-k">double</span>(std::vector&lt;<span class="pl-k">double</span>&gt; <span class="pl-k">const</span>&amp;)&gt; sig;

<span class="pl-c">//connect slots and get the slot ids</span>
<span class="pl-k">auto</span>&amp;&amp; id = signals::connect(sig,[](std::vector&lt;<span class="pl-k">double</span>&gt; <span class="pl-k">const</span>&amp; v){
    <span class="pl-k">return</span> <span class="pl-c1">std::accumulate</span>(v.<span class="pl-c1">begin</span>(),v.<span class="pl-c1">end</span>(),<span class="pl-c1">0</span>);
});
<span class="pl-k">auto</span>&amp;&amp; id2 = signals::connect(sig,[](std::vector&lt;<span class="pl-k">double</span>&gt; <span class="pl-k">const</span>&amp; v){
    <span class="pl-k">return</span> <span class="pl-c1">std::accumulate</span>(v.<span class="pl-c1">begin</span>(),v.<span class="pl-c1">end</span>(),<span class="pl-c1">1</span>,std::multiplies&lt;<span class="pl-k">double</span>&gt;{});
});
<span class="pl-c">//data to be emitted</span>
std::vector&lt;<span class="pl-k">double</span>&gt; v = {<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>,<span class="pl-c1">4</span>,<span class="pl-c1">5</span>};

<span class="pl-c">//call all slots with data v</span>
<span class="pl-k">auto</span>&amp;&amp; em = signals::emit(sig,v);
<span class="pl-c">//get result of emit</span>
<span class="pl-k">auto</span>&amp;&amp; res = signals::result(em);
<span class="pl-c">//print all</span>
<span class="pl-k">for</span>(<span class="pl-k">auto</span>&amp;&amp; r: res){
    std::cout&lt;&lt;r&lt;&lt;std::endl;
}</pre></div>

<p>Access a result from a specific slot:</p>

<div class="highlight highlight-source-c++"><pre><span class="pl-c">//get the result of a specific slot by using its id</span>
<span class="pl-k">auto</span>&amp;&amp; slot_id1_result = signals::result(id,em);
std::cout&lt;&lt;slot_id1_result&lt;&lt;std::endl;</pre></div>

<p>Emit Asynchronously with a thread pool:</p>

<div class="highlight highlight-source-c++"><pre><span class="pl-c">//a thread pool. see: thread_pool.hpp</span>
thread_pool pool;
<span class="pl-c">//call emit async using a thread pool</span>
<span class="pl-k">auto</span>&amp;&amp; em2 = signals::emit(sig,pool,v);

<span class="pl-c">//get results, when using pool this will wait on the futures provided by the pool for each emit</span>
<span class="pl-k">auto</span>&amp;&amp; res2 = signals::result(em2);

<span class="pl-c">//print</span>
<span class="pl-k">for</span>(<span class="pl-k">auto</span>&amp;&amp; r: res2){
    std::cout&lt;&lt;r&lt;&lt;std::endl;
}</pre></div>
        </section>

        <footer>
          C++ 11 - Signals &amp; Slots is maintained by <a href="https://github.com/zyvitski">zyvitski</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
